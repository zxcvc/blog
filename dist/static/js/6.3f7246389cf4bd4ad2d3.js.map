{"version":3,"sources":["webpack:///src/views/register.vue","webpack:///./src/views/register.vue?62f6","webpack:///./src/views/register.vue"],"names":["views_register","data","username","password","confPassword","have","success","methods","register","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","open","abrupt","$axios","post","$qs","stringify","nick","headers","Content-Type","sent","localStorage","setItem","stringify_default","stop","msg","typ","duration","_this2","$Message","message","type","center","onClose","$router","push","haveusername","_this3","_callee2","ret","_context2","get","params","selectortype_template_index_0_src_views_register","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","for","_v","directives","name","rawName","value","expression","id","autocomplete","domProps","on","change","input","$event","target","composing","click","preventDefault","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.3f7246389cf4bd4ad2d3.js","sourcesContent":["<template lang=\"\">\r\n  <div class=\"container\">\r\n    <form class=\"row\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">用户名</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"username\" autocomplete=\"off\"\r\n            v-model=\"username\" @change=\"haveusername\">\r\n          <strong class=\"text-danger\" v-show=\"have\">用户名已存在</strong>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"password\">密码</label>\r\n          <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"password\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"password\">请再次输入密码</label>\r\n          <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"confPassword\">\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-default\" @click.prevent=\"register\">注册</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      confPassword: \"\",\r\n      have: false,\r\n      success: false\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      if (this.have) {\r\n        this.success = false;\r\n        this.open(\"用户名已存在\", \"error\", 1500);\r\n        return;\r\n      }\r\n      if (this.username === \"\" || this.password === \"\") {\r\n        this.open(\"用户名或密码为空\", \"error\", 1500);\r\n        return;\r\n      }\r\n      if (this.password !== this.confPassword) {\r\n        this.open(\"两次密码不一致\", \"error\", 1500);\r\n        return;\r\n      }\r\n\r\n      let ret = await this.$axios.post(\r\n        \"/api/register\",\r\n        this.$qs.stringify({\r\n          username: this.username,\r\n          password: this.password,\r\n          nick: this.nick\r\n        }),\r\n        { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\r\n      );\r\n\r\n      if (ret.data.success === true) {\r\n        this.success = true;\r\n        localStorage.setItem('user',JSON.stringify({username:this.username}))\r\n        this.open(\"注册成功\", \"success\", 1500);\r\n      }\r\n    },\r\n    open(msg, typ, duration) {\r\n      this.$Message({\r\n        message: msg,\r\n        type: typ,\r\n        duration: duration,\r\n        center: true,\r\n        onClose: () => {\r\n          if (!this.success) return;\r\n          this.$router.push(\"/home\");\r\n        }\r\n      });\r\n    },\r\n    async haveusername() {\r\n      let ret = await this.$axios.get(\"/api/haveusername\", {\r\n        params: { username: this.username }\r\n      });\r\n      this.have = ret.data.have;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.row {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 0!important;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('form',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"用户名\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"username\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.username)},on:{\"change\":_vm.haveusername,\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_vm._v(\" \"),_c('strong',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.have),expression:\"have\"}],staticClass:\"text-danger\"},[_vm._v(\"用户名已存在\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"请再次输入密码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confPassword),expression:\"confPassword\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\"},domProps:{\"value\":(_vm.confPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confPassword=$event.target.value}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.register($event)}}},[_vm._v(\"注册\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0db03346\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0db03346\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./register.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0db03346\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0db03346\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}