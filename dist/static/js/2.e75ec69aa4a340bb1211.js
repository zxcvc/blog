webpackJsonp([2],{"8ILX":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("Xxa5"),a=s.n(r),n=s("exGp"),i=s.n(n),o={data:function(){return{title:"",describe:"",content:"",author:"",success:!1,tips:""}},methods:{check:function(){this.title?this.describe?this.content||(this.tips="请输入文章内容"):this.tips="请输入文章描述":this.tips="请输入文章标题"},getAuthor:function(){this.author=JSON.parse(localStorage.getItem("user")).username},addArticle:function(){var t=this;return i()(a.a.mark(function e(){var s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.title&&t.describe&&t.content){e.next=4;break}return t.check(),t.open(t.tips,"error",1500),e.abrupt("return");case 4:return e.next=6,t.$axios.post("/api/addArticle",t.$qs.stringify({title:t.title,describe:t.describe,content:t.content,author:t.author,time:new Date}));case 6:200===(s=e.sent).status&&(t.success=s.data.success,t.tips=s.data.tips,t.open(t.tips,"success",1500));case 8:case"end":return e.stop()}},e,t)}))()},open:function(t,e,s){var r=this;this.$Message({message:t,type:e,duration:s,center:!0,onClose:function(){r.success&&r.$router.push("/home")}})}},created:function(){this.getAuthor()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("form",{attrs:{action:""}},[s("form",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("标题")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",autocomplete:"off"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"describe"}},[t._v("描述")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.describe,expression:"describe"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"3"},domProps:{value:t.describe},on:{input:function(e){e.target.composing||(t.describe=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"content"}},[t._v("内容")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"15"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addArticle(e)}}},[t._v("发表")])])])])])},staticRenderFns:[]};var u=s("VU/8")(o,c,!1,function(t){s("kPFh")},"data-v-91946c3a",null);e.default=u.exports},kPFh:function(t,e){}});
//# sourceMappingURL=2.e75ec69aa4a340bb1211.js.map