webpackJsonp([3],{c2lw:function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=r("Xxa5"),a=r.n(t),n=r("exGp"),o=r.n(n),i={data:function(){return{username:"",password:"",confPassword:"",have:!1,success:!1}},methods:{register:function(){var e=this;return o()(a.a.mark(function s(){return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.have){s.next=4;break}return e.success=!1,e.open("用户名已存在","error",1500),s.abrupt("return");case 4:if(""!==e.username&&""!==e.password){s.next=7;break}return e.open("用户名或密码为空","error",1500),s.abrupt("return");case 7:if(e.password===e.confPassword){s.next=10;break}return e.open("两次密码不一致","error",1500),s.abrupt("return");case 10:return s.next=12,e.$axios.post("/api/register",e.$qs.stringify({username:e.username,password:e.password,nick:e.nick}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 12:!0===s.sent.data.success&&(e.success=!0,e.open("注册成功","success",1500));case 14:case"end":return s.stop()}},s,e)}))()},open:function(e,s,r){var t=this;this.$Message({message:e,type:s,duration:r,center:!0,onClose:function(){t.success&&t.$router.push("/home")}})},haveusername:function(){var e=this;return o()(a.a.mark(function s(){var r;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.$axios.get("/api/haveusername",{params:{username:e.username}});case 2:r=s.sent,e.have=r.data.have;case 4:case"end":return s.stop()}},s,e)}))()}},created:function(){this.register=this.throttle(this.register,1500)}},u={render:function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"container"},[r("form",{staticClass:"row"},[r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"username"}},[e._v("用户名")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username",autocomplete:"off"},domProps:{value:e.username},on:{input:[function(s){s.target.composing||(e.username=s.target.value)},e.haveusername]}}),e._v(" "),r("strong",{directives:[{name:"show",rawName:"v-show",value:e.have,expression:"have"}],staticClass:"text-danger"},[e._v("用户名已存在")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"password"}},[e._v("密码")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"password"}},[e._v("请再次输入密码")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.confPassword,expression:"confPassword"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:e.confPassword},on:{input:function(s){s.target.composing||(e.confPassword=s.target.value)}}})]),e._v(" "),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"},on:{click:function(s){return s.preventDefault(),e.register(s)}}},[e._v("注册")])])])])},staticRenderFns:[]};var c=r("VU/8")(i,u,!1,function(e){r("fYIv")},"data-v-57786ff2",null);s.default=c.exports},fYIv:function(e,s){}});
//# sourceMappingURL=3.d59a2796035f423568c9.js.map